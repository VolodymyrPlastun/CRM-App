{"version":3,"file":"static/js/385.e6f0da7e.chunk.js","mappings":"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","sources":["Pages/AddRole/AddRole.styled.jsx","Pages/AddRole/AddRole.jsx","firebase.js","firestoreApi.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { List } from 'bootstrap-4-react';\r\n\r\nexport const ListItem = styled(List.Item)`\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nexport const ItemLabel = styled.span`\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const ListDivider = styled.hr`\r\n  border: none;\r\n  border-top: 1px solid #ccc;\r\n  margin-top: 16px;\r\n  margin-bottom: 16px;\r\n`;","import { useEffect, useState } from \"react\";\r\nimport { getData } from \"../../firestoreApi\";\r\nimport { List, Form } from \"bootstrap-4-react\";\r\nimport { updateDoc, doc } from \"firebase/firestore\";\r\nimport { db } from \"../../firebase\";\r\nimport { toast } from 'react-hot-toast';\r\nimport {  ListItem, ListDivider, ItemLabel } from \"./AddRole.styled\";\r\n\r\n\r\nconst AddRole = () => {\r\n    const [dataArr, setDataArr] = useState([]);\r\n\r\n    useEffect(() =>{\r\n        getData(setDataArr);\r\n      }, []);\r\n\r\nconst updateData = (id, role) => {\r\n                let updatedData = doc(db, 'users', id);\r\n                updateDoc(updatedData, {\r\n                    role,\r\n                })\r\n                .then(() => {\r\n                  toast.success('Role added');\r\n                  getData(setDataArr);\r\n                })\r\n                .catch(err => {\r\n                  toast.error(err.message)\r\n                })\r\n              };\r\n\r\n  return (\r\n    <div>\r\n      {dataArr.map(item => {\r\n            return (\r\n                <div key={item.id}>\r\n         <Form.CustomSelect defaultValue=\"Choose Role\" onChange={(evt) => updateData(item.id, evt.target.value)} sm mb=\"3\">\r\n         <option disabled>Choose Role</option>\r\n          <option value=\"Driver\">Driver</option>\r\n          <option value=\"Passenger\">Passenger</option>\r\n          <option value=\"Dispatcher\">Dispatcher</option>\r\n        </Form.CustomSelect>\r\n<List >\r\n{item.displayName && <ListItem><ItemLabel>Name:</ItemLabel> {item.displayName}</ListItem>}\r\n{item.name && <ListItem><ItemLabel>Name:</ItemLabel> {item.name}</ListItem>}\r\n            {item.email && <ListItem><ItemLabel>Email:</ItemLabel> {item.email}</ListItem>}\r\n            {item.phoneNumber && <ListItem><ItemLabel>Number:</ItemLabel> {item.phoneNumber}</ListItem>}\r\n            {item.role && <ListItem><ItemLabel>Role:</ItemLabel> {item.role}</ListItem>}\r\n            <ListDivider/>\r\n          </List>\r\n          </div>)})}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddRole;\r\n","import { initializeApp } from 'firebase/app';\r\nimport { GithubAuthProvider, GoogleAuthProvider, getAuth, FacebookAuthProvider } from 'firebase/auth';\r\nimport {getFirestore} from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD9vfvfkZR7Jm1x7wNDIhh6PcfI19jMWJg\",\r\n    authDomain: \"crm-project-4aaef.firebaseapp.com\",\r\n    projectId: \"crm-project-4aaef\",\r\n    storageBucket: \"crm-project-4aaef.appspot.com\",\r\n    messagingSenderId: \"161287361864\",\r\n    appId: \"1:161287361864:web:19d90ee4a5cc4a927ecf7d\"\r\n  };\r\n  \r\nexport const app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const googleAuthProvider = new GoogleAuthProvider();\r\nexport const githubAuthProvider = new GithubAuthProvider();\r\nexport const facebookAuthProvider = new FacebookAuthProvider();\r\n\r\n","import { collection, addDoc, getDocs, query, where } from 'firebase/firestore';\r\nimport { db } from './firebase';\r\n\r\nconst database = collection(db, 'users');\r\n\r\n export const getData = async (setData) => {\r\nconst data = await getDocs(database);\r\n    setData(data.docs.map(item => {\r\n      return {...item.data(), id: item.id }\r\n    }));\r\n  };\r\n\r\n\r\n export const isUserExistEmail = async (email, data) => {\r\n    const q = query(database, where(\"email\", \"==\", email))\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    \r\n    \r\n    if (querySnapshot.empty) {\r\n        await addDoc(database, data);\r\n      } \r\n    }\r\n\r\n    export const isUserExistPhone = async (phoneNumber, data) => {\r\n        const q = query(database, where(\"phoneNumber\", \"==\",  phoneNumber))\r\n        \r\n        const querySnapshot = await getDocs(q);\r\n        \r\n        \r\n        if (querySnapshot.empty) {\r\n            console.log(\"Add user\");\r\n           \r\n            await addDoc(database, data);\r\n          }\r\n        }"],"names":["ListItem","styled","List","_templateObject","_taggedTemplateLiteral","ItemLabel","_templateObject2","ListDivider","_templateObject3","_useState","useState","_useState2","_slicedToArray","dataArr","setDataArr","useEffect","getData","_jsx","children","map","item","_jsxs","Form","defaultValue","onChange","evt","id","role","updatedData","doc","db","updateDoc","then","toast","catch","err","message","updateData","target","value","sm","mb","disabled","displayName","name","email","phoneNumber","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","getFirestore","googleAuthProvider","GoogleAuthProvider","githubAuthProvider","GithubAuthProvider","facebookAuthProvider","FacebookAuthProvider","database","collection","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","setData","data","wrap","_context","prev","next","getDocs","sent","docs","_objectSpread","stop","_x","apply","arguments","isUserExistEmail","_ref2","_callee2","q","_context2","query","where","empty","addDoc","_x2","_x3","isUserExistPhone","_ref3","_callee3","_context3","console","log","_x4","_x5"],"sourceRoot":""}