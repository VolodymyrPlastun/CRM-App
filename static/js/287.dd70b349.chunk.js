"use strict";(self.webpackChunkcrm_app=self.webpackChunkcrm_app||[]).push([[287],{2287:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var t,o,s,c,a,i,u=r(4165),m=r(5861),p=r(1413),d=r(4942),f=r(9439),h=r(5063),l=r(7799),x=r(4539),j=r(2791),b=r(5218),g=r(168),Z=r(6444),F=(0,Z.ZP)(x.List.Item)(t||(t=(0,g.Z)(["\n  margin-bottom: 8px;\n"]))),v=Z.ZP.span(o||(o=(0,g.Z)(["\n  font-weight: bold;\n"]))),C=Z.ZP.label(s||(s=(0,g.Z)(["\n  font-weight: bold;\n"]))),I=Z.ZP.hr(c||(c=(0,g.Z)(["\n  border: none;\n  border-top: 1px solid #ccc;\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]))),k=(0,Z.ZP)(x.Button)(a||(a=(0,g.Z)(["\n    margin-right: 10px;\n"]))),w=(0,Z.ZP)(x.Form)(i||(i=(0,g.Z)(["\n    margin-bottom: 20px;\n"]))),N=r(184),y=function(){var e=(0,j.useState)([]),n=(0,f.Z)(e,2),r=n[0],t=n[1],o=(0,j.useState)(),s=(0,f.Z)(o,2),c=s[0],a=s[1],i=(0,l.hJ)(h.db,"trips"),g=function(e){var n=(0,d.Z)({},e.target.name,e.target.value);a((0,p.Z)((0,p.Z)({},c),n))},Z=(0,j.useCallback)((0,m.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.PL)(i);case 2:n=e.sent,t(n.docs.map((function(e){return(0,p.Z)((0,p.Z)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)}))),[i]);return(0,j.useEffect)((function(){Z()}),[Z]),(0,N.jsxs)("div",{children:[(0,N.jsxs)(w,{children:[(0,N.jsxs)(x.Form.Group,{children:[(0,N.jsx)(C,{htmlFor:"email",children:"Car Namber"}),(0,N.jsx)(x.Form.Input,{onChange:g,name:"carNumber",type:"text",id:"email",placeholder:"Enter car number"})]}),(0,N.jsxs)(x.Form.Group,{children:[(0,N.jsx)(C,{htmlFor:"from",children:"From"}),(0,N.jsx)(x.Form.Input,{onChange:g,name:"from",type:"text",id:"from",placeholder:"Enter first point"})]}),(0,N.jsxs)(x.Form.Group,{children:[(0,N.jsx)(C,{htmlFor:"to",children:"To"}),(0,N.jsx)(x.Form.Input,{onChange:g,name:"to",type:"text",id:"to",placeholder:"Enter second point"})]}),(0,N.jsxs)(x.Form.Group,{children:[(0,N.jsx)(C,{htmlFor:"from",children:"Number of passengers"}),(0,N.jsx)(x.Form.Input,{onChange:g,name:"passengers",type:"number",id:"from",placeholder:"Enter number of passengers"})]}),(0,N.jsx)(x.Button,{onClick:function(e){e.preventDefault(),(0,l.ET)(i,c).then((function(){b.Am.success("Trip created"),Z(t)})).catch((function(e){b.Am.error(e.message)}))},info:!0,type:"submit",children:"Create trip"})]}),r&&r.map((function(e){return(0,N.jsxs)(x.List,{children:[e.carNumber&&(0,N.jsxs)(F,{children:[(0,N.jsx)(v,{children:"Car Number:"})," ",e.carNumber]}),e.name&&(0,N.jsxs)(F,{children:[(0,N.jsx)(v,{children:"Name:"})," ",e.name]}),e.from&&(0,N.jsxs)(F,{children:[(0,N.jsx)(v,{children:"From:"})," ",e.from]}),e.to&&(0,N.jsxs)(F,{children:[(0,N.jsx)(v,{children:"To:"})," ",e.to]}),e.passengers&&(0,N.jsxs)(F,{children:[(0,N.jsx)(v,{children:"Passengers:"})," ",e.passengers]}),(0,N.jsx)(k,{onClick:function(){return function(e){var n=(0,l.JU)(h.db,"trips",e);(0,l.r7)(n,{carNumber:c.carNumber,from:c.from,to:c.to,passengers:c.passengers}).then((function(){b.Am.success("Trip updated"),Z(t)})).catch((function(e){b.Am.error(e.message)}))}(e.id)},info:!0,type:"submit",children:"Update trip"}),(0,N.jsx)(x.Button,{onClick:function(){return function(e){var n=(0,l.JU)(h.db,"trips",e);(0,l.oe)(n).then((function(){b.Am.success("Trip deleted"),Z(t)})).catch((function(e){b.Am.error(e.message)}))}(e.id)},info:!0,type:"submit",children:"Delete trip"}),(0,N.jsx)(I,{})]},e.id)}))]})}},5063:function(e,n,r){r.d(n,{I8:function(){return a},M3:function(){return p},Vr:function(){return m},db:function(){return i},qV:function(){return u}});var t=r(4702),o=r(5689),s=r(7799),c=(0,t.ZF)({apiKey:"AIzaSyD9vfvfkZR7Jm1x7wNDIhh6PcfI19jMWJg",authDomain:"crm-project-4aaef.firebaseapp.com",projectId:"crm-project-4aaef",storageBucket:"crm-project-4aaef.appspot.com",messagingSenderId:"161287361864",appId:"1:161287361864:web:19d90ee4a5cc4a927ecf7d"}),a=(0,o.v0)(c),i=(0,s.ad)(c),u=new o.hJ,m=new o.GH,p=new o._O}}]);
//# sourceMappingURL=287.dd70b349.chunk.js.map