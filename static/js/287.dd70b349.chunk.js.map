{"version":3,"file":"static/js/287.dd70b349.chunk.js","mappings":"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","sources":["Pages/CreateTrip/CreateTrip.styled.jsx","Pages/CreateTrip/CreateTrip.jsx","firebase.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { List, Button, Form } from 'bootstrap-4-react';\r\n\r\nexport const ListItem = styled(List.Item)`\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nexport const ItemLabel = styled.span`\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const ListDivider = styled.hr`\r\n  border: none;\r\n  border-top: 1px solid #ccc;\r\n  margin-top: 16px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nexport const Btn = styled(Button)`\r\n    margin-right: 10px;\r\n`;\r\n\r\nexport const FormBox = styled(Form)`\r\n    margin-bottom: 20px;\r\n`;","import { db } from \"../../firebase\";\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  getDocs,\r\n  deleteDoc,\r\n  doc,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport { Form, Button, List } from \"bootstrap-4-react\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { ListItem, ItemLabel, ListDivider, Btn, FormBox, Label } from \"./CreateTrip.styled\";\r\n\r\nconst CreateTrip = () => {\r\n  const [dataArr, setDataArr] = useState([]);\r\n  const [data, setData] = useState();\r\n  const database = collection(db, \"trips\");\r\n\r\n  const createTrip = (evt) => {\r\n    evt.preventDefault();\r\n    addDoc(database, data)\r\n      .then(() => {\r\n        toast.success(\"Trip created\");\r\n        getData(setDataArr);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  const deleteData = (id) => {\r\n    let deletedData = doc(db, \"trips\", id);\r\n    deleteDoc(deletedData)\r\n      .then(() => {\r\n        toast.success(\"Trip deleted\");\r\n        getData(setDataArr);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  const inputChange = (evt) => {\r\n    const inputs = { [evt.target.name]: evt.target.value };\r\n    setData({ ...data, ...inputs });\r\n  };\r\n\r\n  const getData = useCallback(async () => {\r\n    const data = await getDocs(database);\r\n    setDataArr(\r\n      data.docs.map((item) => {\r\n        return { ...item.data(), id: item.id };\r\n      })\r\n    );\r\n  }, [database]);\r\n\r\n  const updateData = (id) => {\r\n    let updatedData = doc(db, \"trips\", id);\r\n    updateDoc(updatedData, {\r\n      carNumber: data.carNumber,\r\n      from: data.from,\r\n      to: data.to,\r\n      passengers: data.passengers,\r\n    })\r\n      .then(() => {\r\n        toast.success(\"Trip updated\");\r\n        getData(setDataArr);\r\n      })\r\n      .catch((err) => {\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  return (\r\n    <div>\r\n      <FormBox>\r\n        <Form.Group>\r\n          <Label htmlFor=\"email\">Car Namber</Label>\r\n          <Form.Input\r\n            onChange={inputChange}\r\n            name=\"carNumber\"\r\n            type=\"text\"\r\n            id=\"email\"\r\n            placeholder=\"Enter car number\"\r\n          />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Label htmlFor=\"from\">From</Label>\r\n          <Form.Input\r\n            onChange={inputChange}\r\n            name=\"from\"\r\n            type=\"text\"\r\n            id=\"from\"\r\n            placeholder=\"Enter first point\"\r\n          />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Label htmlFor=\"to\">To</Label>\r\n          <Form.Input\r\n            onChange={inputChange}\r\n            name=\"to\"\r\n            type=\"text\"\r\n            id=\"to\"\r\n            placeholder=\"Enter second point\"\r\n          />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Label htmlFor=\"from\">Number of passengers</Label>\r\n          <Form.Input\r\n            onChange={inputChange}\r\n            name=\"passengers\"\r\n            type=\"number\"\r\n            id=\"from\"\r\n            placeholder=\"Enter number of passengers\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button onClick={createTrip} info type=\"submit\">\r\n          Create trip\r\n        </Button>\r\n      </FormBox>\r\n      {dataArr &&\r\n        dataArr.map((item) => {\r\n          return (\r\n            <List key={item.id}>\r\n              {item.carNumber && (\r\n                <ListItem>\r\n                  <ItemLabel>Car Number:</ItemLabel> {item.carNumber}\r\n                </ListItem>\r\n              )}\r\n              {item.name && (\r\n                <ListItem>\r\n                  <ItemLabel>Name:</ItemLabel> {item.name}\r\n                </ListItem>\r\n              )}\r\n              {item.from && (\r\n                <ListItem>\r\n                  <ItemLabel>From:</ItemLabel> {item.from}\r\n                </ListItem>\r\n              )}\r\n              {item.to && (\r\n                <ListItem>\r\n                  <ItemLabel>To:</ItemLabel> {item.to}\r\n                </ListItem>\r\n              )}\r\n              {item.passengers && (\r\n                <ListItem>\r\n                  <ItemLabel>Passengers:</ItemLabel> {item.passengers}\r\n                </ListItem>\r\n              )}\r\n              <Btn onClick={() => updateData(item.id)} info type=\"submit\">\r\n                Update trip\r\n              </Btn>\r\n              <Button onClick={() => deleteData(item.id)} info type=\"submit\">\r\n                Delete trip\r\n              </Button>\r\n              <ListDivider />\r\n            </List>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateTrip;\r\n","import { initializeApp } from 'firebase/app';\r\nimport { GithubAuthProvider, GoogleAuthProvider, getAuth, FacebookAuthProvider } from 'firebase/auth';\r\nimport {getFirestore} from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD9vfvfkZR7Jm1x7wNDIhh6PcfI19jMWJg\",\r\n    authDomain: \"crm-project-4aaef.firebaseapp.com\",\r\n    projectId: \"crm-project-4aaef\",\r\n    storageBucket: \"crm-project-4aaef.appspot.com\",\r\n    messagingSenderId: \"161287361864\",\r\n    appId: \"1:161287361864:web:19d90ee4a5cc4a927ecf7d\"\r\n  };\r\n  \r\nexport const app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const googleAuthProvider = new GoogleAuthProvider();\r\nexport const githubAuthProvider = new GithubAuthProvider();\r\nexport const facebookAuthProvider = new FacebookAuthProvider();\r\n\r\n"],"names":["ListItem","styled","List","_templateObject","_taggedTemplateLiteral","ItemLabel","_templateObject2","Label","_templateObject3","ListDivider","_templateObject4","Btn","Button","_templateObject5","FormBox","Form","_templateObject6","_useState","useState","_useState2","_slicedToArray","dataArr","setDataArr","_useState3","_useState4","data","setData","database","collection","db","inputChange","evt","inputs","_defineProperty","target","name","value","_objectSpread","getData","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getDocs","sent","docs","map","item","id","stop","useEffect","_jsxs","children","_jsx","htmlFor","onChange","type","placeholder","onClick","preventDefault","addDoc","then","toast","catch","err","message","info","carNumber","from","to","passengers","updatedData","doc","updateDoc","updateData","deletedData","deleteDoc","deleteData","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","getFirestore","googleAuthProvider","GoogleAuthProvider","githubAuthProvider","GithubAuthProvider","facebookAuthProvider","FacebookAuthProvider"],"sourceRoot":""}